{"version":3,"sources":["assets/textures/asset_blank.jpg","assets/layers/layer_03_base.png","assets/layers/layer_01.png","assets/layers/layer_03_base_02.png","assets/layers/layer_02_multiply.png","assets/layers/layer_00_safe_zone.png","lib/GridManager.js","lib/red/CanvasUtils.js","lib/MeshCanvas.js","lib/CanvasDummy.js","lib/CanvasDummyBuilder.js","lib/red/ColorUtils.js","lib/red/CanvasColoring.js","assets/images/blank.png","components/Downloader/index.js","components/CenteredItem/index.js","assets/images/upload-icon.svg","components/UploadPanel/index.js","components/Uploader/index.js","assets/images/rock-em-logo.svg","App.js","reportWebVitals.js","index.js"],"names":["GridManager","width","height","rows","columns","rootPositions","positions","this","build","makePoints","x","y","indexes","forEach","index","length","add_or_subtract","new_points","old_points","new_points_01_columns","new_points_02_rows","new_points_03_square","i","gCols","push","getAverage","direction","col_total","pushNew","array1","array2","nextValue","shift","gRows","c","coord","colWidth","rowHeight","make_positions","total","Math","floor","corners","tl","tr","bl","br","square","makeGo","max","squareValue","checks","undefined","props","divisions","amount","pow","center","moveUpperLeft","moveUpperRight","moveLowerRight","moveLowerLeft","double","corner","item","opposite","hypoten","adjacent","moveCommon","mid1","mid2","avg","adjacentPos","hypotenPos","oppositePos","centerPos","array","controlPoints","map","sharpen","ctx","w","h","mix","sx","sy","r","g","b","dstOff","srcOff","wt","cx","cy","scy","scx","weights","katet","round","sqrt","half","dstData","createImageData","dstBuff","data","srcBuff","getImageData","putImageData","_returnError","source","getOrSet","_output","canvas","dI","elements","_type","_src","src","id","Error","MeshCanvas","image","gridManager","output","document","createElement","filler","wireframe","style","toggleColor","refresh","ctx_wireframe","getContext","clearRect","strokeStyle","color","lineWidth","neighbor","beginPath","upper","moveTo","lineTo","stroke","closePath","r1","s1","t1","r2","s2","t2","r3","s3","t3","parseFloat","a","showFiller","canvi","img","gm","subwidth","subheight","target","rewind_amount","skip_amount","offset","c1","c2","c3","c4","rootX","rootY","x1","y1","x2","y2","x3","y3","x4","y4","xn","linearSolution","yn","save","setTransform","fillStyle","fill","clip","drawImage","restore","xm","ym","CanvasUtils","meshify","updateMeshLines","updateQuantity","float","CanvasDummy","mesh","image_width","image_height","values","parent","initMesh","init","meshCanvas","iterations","updateDot","prev","canvas_data","right_sock","left_sock_01","left_sock_02","meshables","scaled_canvas","scaleDownTexture","dummies","obj","dummy","addMesh","scaled_width","scaled_height","filter","toRgba","alpha","indexOf","substring","lastIndexOf","split","parseInt","Number","console","log","result","exec","toRgbaString","hue","hsl","rgb","cMax","cMin","min","delta","l","s","abs","rgbToHSL","_convert","from","returnColors","m","_normalizeRgbValue","_hslToRGB","format","saturation","to","val","_fromVal","_high","_low","sub","contrast","tint","transform","invert","type","_engine","ColorUtils","_target","clear","update","_endColor","_imageData","_canvas","err","_pixels","_colID","Status","useStyles","makeStyles","theme","root","padding","textTransform","input","display","Downloader","React","forwardRef","ref","classes","layers","texture","title","filename","canvasRef","useRef","useState","status","setStatus","textureCount","setTextureCount","update_status","Promise","resolve","reject","setTimeout","useEffect","status_promise","current","CanvasDummyBuilder","globalCompositeOperation","globalAlpha","next_status","CanvasColoring","className","blank","alt","Button","borderRadius","backgroundColor","disableElevation","variant","disabled","onClick","rect","bitmapData","toDataURL","Image","onload","fetch","method","headers","then","response","arrayBuffer","buffer","link","href","window","URL","createObjectURL","Blob","download","body","appendChild","click","revokeObjectURL","removeChild","catch","CenteredItem","children","createMuiTheme","palette","primary","main","secondary","throttler","delay","UploadPanel","terminate","currentJobs","generateCallback","label","buttonLabel","uploadSource","setUploadSource","uploadedImage","setUploadedImage","loadedPercent","setLoadedPercent","loadingValue","setLoadingValue","onDrop","useCallback","acceptedFiles","reader","getReader","contentLength","get","receivedLength","throttle","read","done","value","percent","useDropzone","getRootProps","getInputProps","canDownload","isDragActive","ThemeProvider","backgroundImage","debug","accept","multiple","ReactHtmlParser","uploadIcon","e","pointerEvents","opacity","name","Uploader","text_default","setTitle","outputTitle","setOutputTitle","downloadRef","frontRef","backRef","updateTitle","new_title","handleTextFocus","onChange","onKeyDown","key","toLowerCase","keyCode","blur","onFocus","onBlur","App","assets","require","default","assetData","uploaderRef","layerData","sourceBitmapData","setSourceBitmapData","completed","callback","url","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2992cd4d.chunk.js","sourcesContent":["export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wCEAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRQBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/CABEIBKQC0AMBEQACEQEDEQH/xAAVAAEBAAAAAAAAAAAAAAAAAAAACf/aAAgBAQAAAACqYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//EABQQAQAAAAAAAAAAAAAAAAAAAND/2gAIAQEAAT8AUYv/xAAUEQEAAAAAAAAAAAAAAAAAAADQ/9oACAECAQE/AFGL/8QAFBEBAAAAAAAAAAAAAAAAAAAA0P/aAAgBAwEBPwBRi//Z\"","export default __webpack_public_path__ + \"static/media/layer_03_base.caa520d5.png\";","export default __webpack_public_path__ + \"static/media/layer_01.29297f38.png\";","export default __webpack_public_path__ + \"static/media/layer_03_base_02.46feb102.png\";","export default __webpack_public_path__ + \"static/media/layer_02_multiply.996db54b.png\";","export default __webpack_public_path__ + \"static/media/layer_00_safe_zone.22b63032.png\";","export default class GridManager {\n  init({ width, height, rows, columns, rootPositions, positions }) {\n    if (!this.build) {\n      this.build = true\n      this.width = width\n      this.height = height\n      this.rows = rows\n      this.columns = columns\n\n      this.makePoints(rootPositions, positions)\n    }\n  }\n\n  getAverage(...indexes) {\n    let x = 0\n    let y = 0\n    indexes.forEach(index => {\n      x += this.positions[index].x\n      y += this.positions[index].y\n    })\n    x /= indexes.length\n    y /= indexes.length\n\n    return { x, y }\n  }\n\n  updateQuantity(add_or_subtract) {\n    let new_points = []\n    switch (add_or_subtract) {\n      case \"+\":\n      case \"add\":\n        const old_points = this.positions\n        const new_points_01_columns = []\n        const new_points_02_rows = []\n        const new_points_03_square = []\n\n        for (let i = 0; i < old_points.length; i++) {\n          if (i + this.gCols < old_points.length) new_points_02_rows.push(this.getAverage(i, i + this.gCols))\n          if (i % this.gCols !== this.columns) {\n            if (i + 1 < old_points.length) new_points_01_columns.push(this.getAverage(i, i + 1))\n            if (i + this.gCols < old_points.length)\n              new_points_03_square.push(this.getAverage(i, i + 1, i + this.gCols, i + this.gCols + 1))\n          }\n        }\n\n        let direction = \"across\"\n        const col_total = this.columns + this.gCols\n        function pushNew(array1, array2, nextValue) {\n          for (let i = 0; i < col_total; i++) {\n            if (i % 2) {\n              new_points.push(array1.shift())\n            } else {\n              new_points.push(array2.shift())\n            }\n\n            new_points[new_points.length - 1].i = new_points.length - 1\n            if (i === col_total - 1) direction = nextValue\n          }\n        }\n        while (\n          old_points.length +\n          new_points_01_columns.length +\n          new_points_02_rows.length +\n          new_points_03_square.length\n        ) {\n          switch (direction) {\n            case \"across\":\n              pushNew(new_points_01_columns, old_points, \"middle\")\n              break\n            case \"middle\":\n              pushNew(new_points_03_square, new_points_02_rows, \"across\")\n\n              break\n            default:\n              break\n          }\n        }\n\n        this.columns *= 2\n        this.rows *= 2\n        break\n      case \"-\":\n      case \"subtract\":\n        let modulo = 1\n\n        for (let i = 0; i < this.gRows; i += 2) {\n          for (let c = 0; c < this.gCols; c += 2) {\n            const index = i * this.gCols + c\n            let coord = this.positions[index]\n            coord.i = index\n            new_points.push(coord)\n          }\n        }\n\n        this.columns /= 2\n        this.rows /= 2\n        break\n      default:\n        break\n    }\n\n    this.gCols = this.columns + 1\n    this.gRows = this.rows + 1\n\n    this.positions = new_points\n\n    this.makePoints()\n  }\n\n  makePoints(rootPositions, positions) {\n    const colWidth = this.width / this.columns\n    const rowHeight = this.height / this.rows\n\n    this.gCols = this.columns + 1\n    this.gRows = this.rows + 1\n\n    if (positions && rootPositions) {\n      this.positions = positions\n      this.rootPositions = rootPositions\n    } else {\n      const total = this.gRows * this.gCols\n      this.rootPositions = []\n      let make_positions\n      if (!this.positions) {\n        this.positions = []\n        make_positions = true\n      }\n      if (!this.rootPositions.length) {\n        for (let i = 0; i < total; i++) {\n          if (make_positions)\n            this.positions.push({\n              x: (i % this.gCols) * colWidth,\n              y: Math.floor(i / this.gCols) * rowHeight,\n              i,\n            })\n          this.rootPositions.push({\n            x: (i % this.gCols) * colWidth,\n            y: Math.floor(i / this.gCols) * rowHeight,\n            i,\n          })\n        }\n      }\n    }\n    this.corners = {\n      tl: 0,\n      tr: this.rows,\n      bl: this.gCols * this.rows,\n      br: this.gCols * this.rows + this.rows,\n    }\n  }\n\n  updateDot(i, x, y, square) {\n    this.positions[i] = {\n      x,\n      y,\n      i,\n    }\n\n    this.makeGo(i, square, this.columns / Math.max(1, square / 2))\n  }\n\n  makeGo(index, squareValue, checks) {\n    if (checks <= 1 || index === null || index === undefined || !(index >= 0)) return\n\n    const props = {\n      divisions: this.columns / squareValue,\n      amount: Math.pow(this.columns, 2) / squareValue,\n      center: index,\n    }\n    const corners = [\n      this.moveUpperLeft(props),\n      this.moveUpperRight(props),\n      this.moveLowerRight(props),\n      this.moveLowerLeft(props),\n    ]\n\n    const double = squareValue * 2\n    corners.forEach(corner => {\n      for (let item in corner) this.makeGo(corner[item], double, checks / 2)\n    })\n  }\n\n  moveLowerLeft({ divisions, amount, center }) {\n    if (center % this.gCols === 0) return\n\n    // to the left or the right\n    let opposite = center - divisions\n    // across in a corner\n    let hypoten = center + amount\n    // above or below\n    let adjacent = hypoten + divisions\n\n    return this.moveCommon({ center, opposite, adjacent, hypoten })\n  }\n  moveLowerRight({ divisions, amount, center }) {\n    if ((center + 1) % this.gCols === 0) return\n\n    // to the left or the right\n    let opposite = center + divisions\n    // above or below\n    let adjacent = opposite + amount\n    // across in a corner\n    let hypoten = adjacent + divisions\n\n    return this.moveCommon({ center, opposite, adjacent, hypoten })\n  }\n  moveUpperRight({ divisions, amount, center }) {\n    if ((center + 1) % this.gCols === 0) return\n    // to the left or the right\n    let opposite = center + divisions\n    // across in a corner\n    let hypoten = center - amount\n    // above or below\n    let adjacent = hypoten - divisions\n\n    return this.moveCommon({ center, opposite, adjacent, hypoten })\n  }\n\n  moveUpperLeft({ divisions, amount, center }) {\n    if (center % this.gCols === 0) return\n\n    // to the left or the right\n    let opposite = center - divisions\n    // above or below\n    let adjacent = opposite - amount\n    // across in a corner\n    let hypoten = adjacent - divisions\n\n    return this.moveCommon({ center, opposite, adjacent, hypoten })\n  }\n\n  moveCommon({ center, opposite, adjacent, hypoten }) {\n    let mid1 = (center + adjacent) / 2\n    let mid2 = (center + opposite) / 2\n\n    let avg = (adjacent + opposite) / 2\n\n    let adjacentPos = this.positions[adjacent]\n    let hypotenPos = this.positions[hypoten]\n    let oppositePos = this.positions[opposite]\n\n    let centerPos = this.positions[center]\n    if (\n      adjacentPos &&\n      centerPos &&\n      hypotenPos &&\n      oppositePos &&\n      this.positions[avg] &&\n      this.positions[mid1] &&\n      this.positions[mid2]\n    ) {\n      this.positions[avg] = {\n        x: (adjacentPos.x + oppositePos.x + hypotenPos.x + centerPos.x) / 4,\n        y: (adjacentPos.y + oppositePos.y + hypotenPos.y + centerPos.y) / 4,\n        i: avg,\n      }\n\n      this.positions[mid1] = {\n        x: (centerPos.x + adjacentPos.x) / 2,\n        y: (centerPos.y + adjacentPos.y) / 2,\n        i: mid1,\n      }\n      this.positions[mid2] = {\n        x: (centerPos.x + oppositePos.x) / 2,\n        y: (centerPos.y + oppositePos.y) / 2,\n        i: mid2,\n      }\n    }\n\n    return { avg, mid1, mid2, center }\n  }\n\n  setControlPoints(array) {\n    this.controlPoints = array.map(index => index)\n  }\n}\n","/**\n * @npmpackage\n * @class CanvasUtils\n * @desc\n * Utilities for Canvas DOM elements<br>\n * <codeblock>\n * import { CanvasUtils } from 'ad-canvas'\n * </codeblock>\n */\n\n/**\n * @memberof CanvasUtils\n * @method getImageData\n * @param {canvas|UICanvas|CanvasDrawer} source\n * \ta CANVAS DOM element or CanvasDrawer from whcih to get image data\n * @desc\n * \tGets the image data associated with a canvas\n * @example\n * CanvasUtils.getImageData(_myCanvas)\n */\nexport function getImageData(source) {\n  var _canvas = source.canvas || source\n  try {\n    return _canvas.getContext(\"2d\").getImageData(0, 0, _canvas.width, _canvas.height)\n  } catch (err) {\n    _returnError(source, \"get\")\n  }\n}\n\n/**\n * @memberof CanvasUtils\n * @method setImageData\n * @param {canvas|UICanvas|CanvasDrawer} target\n * \ta CANVAS DOM element or CanvasDrawer to apply image data\n * @param {array} data\n * \tthe image data to apply to the canvas\n * @desc\n * \tApplies image data to a canvas.\n * @example\n * var _imageData = CanvasUtils.getImageData(_sourceCanvas)\n * CanvasUtils.setImageData(_targetCanvas, _imageData)\n */\nexport function setImageData(target, data) {\n  var _canvas = target.canvas || target\n\n  try {\n    _canvas.getContext(\"2d\").putImageData(data, 0, 0)\n  } catch (err) {\n    _returnError(target, \"set\")\n  }\n}\n\nexport function sharpen(ctx, w, h, mix) {\n  var x,\n    sx,\n    sy,\n    r,\n    g,\n    b,\n    a,\n    dstOff,\n    srcOff,\n    wt,\n    cx,\n    cy,\n    scy,\n    scx,\n    weights = [0, -1, 0, -1, 5, -1, 0, -1, 0],\n    katet = Math.round(Math.sqrt(weights.length)),\n    half = (katet * 0.5) | 0,\n    dstData = ctx.createImageData(w, h),\n    dstBuff = dstData.data,\n    srcBuff = ctx.getImageData(0, 0, w, h).data,\n    y = h\n\n  while (y--) {\n    x = w\n    while (x--) {\n      sy = y\n      sx = x\n      dstOff = (y * w + x) * 4\n      r = 0\n      g = 0\n      b = 0\n      a = 0\n\n      for (cy = 0; cy < katet; cy++) {\n        for (cx = 0; cx < katet; cx++) {\n          scy = sy + cy - half\n          scx = sx + cx - half\n\n          if (scy >= 0 && scy < h && scx >= 0 && scx < w) {\n            srcOff = (scy * w + scx) * 4\n            wt = weights[cy * katet + cx]\n\n            r += srcBuff[srcOff] * wt\n            g += srcBuff[srcOff + 1] * wt\n            b += srcBuff[srcOff + 2] * wt\n            a += srcBuff[srcOff + 3] * wt\n          }\n        }\n      }\n\n      dstBuff[dstOff] = r * mix + srcBuff[dstOff] * (1 - mix)\n      dstBuff[dstOff + 1] = g * mix + srcBuff[dstOff + 1] * (1 - mix)\n      dstBuff[dstOff + 2] = b * mix + srcBuff[dstOff + 2] * (1 - mix)\n      dstBuff[dstOff + 3] = srcBuff[dstOff + 3]\n    }\n  }\n\n  ctx.putImageData(dstData, 0, 0)\n}\n\n//\nfunction _returnError(source, getOrSet) {\n  var _output = \"Unable to \" + getOrSet + \" image data, try a Local Server or network connection.\\n- And/or -\\n\"\n  if (source.canvas) {\n    _output += \"ImageManager failed to load ONE or ALL of the following as 'forCanvas':\"\n    for (var dI in source.elements) {\n      if (source.elements[dI]._type === \"image\") {\n        var _src = source.elements[dI].src\n        _output += \"\\n\\t\" + _src.id + \": \" + _src.src\n      }\n    }\n  }\n  _output += \"\\nMake sure images used on Canvas elements are loaded using the model: \"\n  _output += \"ImageManager.addToLoad ( 'http://some/full/file/path/sample.png', { forCanvas:true });\"\n\n  throw new Error(_output)\n}\n","import * as CanvasUtils from \"./red/CanvasUtils\"\n\nexport default class MeshCanvas {\n  init(width, height, image, gridManager) {\n    this.output = document.createElement(\"canvas\")\n    this.output.id = `output`\n\n    this.filler = document.createElement(\"canvas\")\n    this.filler.id = `filler`\n\n    this.wireframe = document.createElement(\"canvas\")\n    this.wireframe.id = `wireframe`\n\n    this.output.width = width\n    this.output.height = height\n\n    this.filler.width = width\n    this.filler.height = height\n\n    const mult = 2\n    this.wireframe.width = width * mult\n    this.wireframe.height = height * mult\n    this.wireframe.style.width = `${width}px`\n    this.wireframe.style.height = `${height}px`\n\n    this.src = image\n\n    this.gridManager = gridManager\n\n    this.toggleColor()\n    this.refresh()\n  }\n\n  updateMeshLines() {\n    // update the mesh lines\n    let ctx_wireframe = this.wireframe.getContext(\"2d\")\n\n    ctx_wireframe.clearRect(0, 0, this.wireframe.width, this.wireframe.height)\n    ctx_wireframe.strokeStyle = this.color\n    ctx_wireframe.lineWidth = 1.5\n    const mult = 2\n    for (let i = 0; i < this.gridManager.positions.length; i++) {\n      const coord = this.gridManager.positions[i]\n      let neighbor = this.gridManager.positions[i + 1]\n      if (i && (i + 1) % this.gridManager.gCols === 0) neighbor = null\n      ctx_wireframe.beginPath()\n      if (i >= this.gridManager.gCols) {\n        const upper = this.gridManager.positions[i - this.gridManager.columns - 1]\n        ctx_wireframe.moveTo(upper.x * mult, upper.y * mult)\n        ctx_wireframe.lineTo(coord.x * mult, coord.y * mult)\n      } else {\n        ctx_wireframe.moveTo(coord.x * mult, coord.y * mult)\n      }\n      if (neighbor) ctx_wireframe.lineTo(neighbor.x * mult, neighbor.y * mult)\n      ctx_wireframe.stroke()\n      ctx_wireframe.closePath()\n    }\n\n    // ctx_wireframe.strokeStyle = \"orange\"\n    // ctx_wireframe.lineWidth = 0.5\n    // for (let i = 0; i < this.gridManager.positions.length; i++) {\n    //   if (i % this.gridManager.gCols === 0) continue\n\n    //   const coord = this.gridManager.positions[i]\n    //   let neighbor = this.gridManager.positions[i + this.gridManager.columns]\n\n    //   if (!neighbor) break\n\n    //   ctx_wireframe.beginPath()\n    //   ctx_wireframe.moveTo(coord.x, coord.y)\n    //   ctx_wireframe.lineTo(neighbor.x, neighbor.y)\n\n    //   ctx_wireframe.stroke()\n    //   ctx_wireframe.closePath()\n    // }\n\n    // console.warn(this.gridManager.controlPoints)\n    // if (this.gridManager.controlPoints) {\n    // }\n  }\n\n  linearSolution(r1, s1, t1, r2, s2, t2, r3, s3, t3) {\n    // make them all floats\n    r1 = parseFloat(r1)\n    s1 = parseFloat(s1)\n    t1 = parseFloat(t1)\n    r2 = parseFloat(r2)\n    s2 = parseFloat(s2)\n    t2 = parseFloat(t2)\n    r3 = parseFloat(r3)\n    s3 = parseFloat(s3)\n    t3 = parseFloat(t3)\n\n    let a = ((t2 - t3) * (s1 - s2) - (t1 - t2) * (s2 - s3)) / ((r2 - r3) * (s1 - s2) - (r1 - r2) * (s2 - s3))\n    let b = ((t2 - t3) * (r1 - r2) - (t1 - t2) * (r2 - r3)) / ((s2 - s3) * (r1 - r2) - (s1 - s2) * (r2 - r3))\n    let c = t1 - r1 * a - s1 * b\n\n    return [a, b, c]\n  }\n\n  meshify(showFiller = false) {\n    const canvi = [this.output]\n    if (showFiller) canvi.push(this.filler)\n    // console.log(`%c ${showFiller}`, \"color: black; background-color: cyan; font-style: italic; padding: 2px;\")\n    let img = this.src\n\n    let gm = this.gridManager\n    let { columns, rows } = gm\n    let w = canvi[0].width\n    let h = canvi[0].height\n\n    let subwidth = img.width / columns\n    let subheight = img.height / rows\n\n    const target = gm.positions.length - 1 - columns - 2\n    const rewind_amount = columns + 1\n    const skip_amount = rewind_amount * rows - 1\n\n    canvi.forEach((canvas, c) => {\n      const offset = c\n\n      let ctx = canvas.getContext(\"2d\")\n      ctx.clearRect(0, 0, w, h)\n\n      // render the images\n      for (let i = target; i > -1; i -= rewind_amount) {\n        const c1 = gm.positions[i]\n        const c2 = gm.positions[i + 1]\n        const c3 = gm.positions[i + 1 + columns]\n        const c4 = gm.positions[i + 2 + columns]\n\n        let { x: rootX, y: rootY } = gm.rootPositions[i]\n\n        let x1 = c1.x + offset\n        let y1 = c1.y + offset\n        let x2 = c2.x + offset\n        let y2 = c2.y + offset\n        let x3 = c3.x + offset\n        let y3 = c3.y + offset\n        let x4 = c4.x + offset\n        let y4 = c4.y + offset\n\n        // the bottom-right face\n        let xn = this.linearSolution(subwidth, subheight, x4, subwidth, 0, x2, 0, subheight, x3)\n        let yn = this.linearSolution(subwidth, subheight, y4, subwidth, 0, y2, 0, subheight, y3)\n\n        ctx.save()\n        ctx.setTransform(xn[0], yn[0], xn[1], yn[1], xn[2], yn[2])\n        ctx.beginPath()\n        ctx.moveTo(subwidth, subheight)\n        ctx.lineTo(subwidth, 0)\n        ctx.lineTo(0, subheight)\n        ctx.closePath()\n        ctx.fillStyle = \"transparent\"\n        // ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\"\n        // ctx.fillStyle = \"blue\"\n        ctx.fill()\n        ctx.clip()\n        ctx.drawImage(img, rootX, rootY, subwidth, subheight, 0, 0, subwidth, subheight)\n\n        ctx.restore()\n\n        // the top-left face\n        let xm = this.linearSolution(0, 0, x1, subwidth, 0, x2, 0, subheight, x3)\n        let ym = this.linearSolution(0, 0, y1, subwidth, 0, y2, 0, subheight, y3)\n\n        ctx.save()\n        ctx.setTransform(xm[0], ym[0], xm[1], ym[1], xm[2], ym[2])\n        ctx.beginPath()\n        ctx.moveTo(0, 0)\n        ctx.lineTo(subwidth, 0)\n        ctx.lineTo(0, subheight)\n        ctx.closePath()\n        ctx.fillStyle = \"transparent\"\n        // ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\"\n        // ctx.fillStyle = \"blue\"\n        ctx.fill()\n        ctx.clip()\n        ctx.drawImage(img, rootX, rootY, subwidth, subheight, 0, 0, subwidth, subheight)\n        ctx.restore()\n\n        if (i && i - rewind_amount < 0) i += skip_amount\n      }\n\n      CanvasUtils.sharpen(ctx, w, h, 0.3)\n    })\n  }\n\n  refresh(showFiller = false) {\n    this.meshify(showFiller)\n    this.updateMeshLines()\n  }\n\n  updateQuantity(add_or_subtract) {\n    this.gridManager.updateQuantity(add_or_subtract)\n  }\n\n  toggleColor(float = false) {\n    this.color = !float ? \"cyan\" : \"red\"\n    this.refresh()\n  }\n}\n","import GridManager from \"./GridManager\"\nimport MeshCanvas from \"./MeshCanvas\"\n\nexport default class CanvasDummy {\n  init(props) {\n    const { width, height, image, id, data, mesh } = props\n\n    const { src, x, y, width: image_width, height: image_height } = image\n\n    this.id = id\n\n    this.values = [src, x || 0, y || 0, image_width || src.width, image_height || src.height]\n    this.parent = src\n\n    if (mesh) {\n      this.initMesh(width, height, data)\n    } else {\n      this.canvas = document.createElement(\"canvas\")\n      this.canvas.id = `dummy_canvas_${id}`\n\n      this.canvas.width = width\n      this.canvas.height = height\n      const ctx = this.canvas.getContext(\"2d\")\n\n      ctx.drawImage(...this.values)\n    }\n\n    // document.getElementsByTagName(\"body\").appendChild(canvas)\n  }\n\n  initMesh(width, height, data) {\n    const gridManager = new GridManager()\n\n    // data = null\n    let thing = true\n    // thing = false\n    if (thing) {\n      data = data || {\n        width: this.parent.width,\n        height: this.parent.height,\n        columns: 2,\n        rows: 2,\n      }\n    } else {\n      data = data || {\n        width: this.parent.width,\n        height: this.parent.height,\n        columns: 4,\n        rows: 4,\n      }\n    }\n\n    gridManager.init(data)\n\n    this.meshCanvas = new MeshCanvas()\n    this.meshCanvas.init(width, height, this.parent, gridManager)\n\n    // this.parentDummy = parentDummy\n  }\n\n  updateQuantity(add_or_subtract) {\n    this.meshCanvas.updateQuantity(add_or_subtract)\n    this.refresh()\n  }\n\n  updateDot(index, x, y, iterations) {\n    this.meshCanvas.gridManager.updateDot(index, x, y, iterations)\n    this.meshCanvas.refresh()\n  }\n\n  refresh(showFiller = false) {\n    if (this.meshCanvas) {\n      this.meshCanvas.refresh(showFiller)\n    } else {\n      let ctx = this.canvas.getContext(\"2d\")\n      ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n      ctx.drawImage(...this.values)\n    }\n  }\n}\n","import CanvasDummy from \"./CanvasDummy\"\n\nimport right_sock from \"../data/right_sock.json\"\nimport left_sock_01 from \"../data/left_sock_01.json\"\nimport left_sock_02 from \"../data/left_sock_02.json\"\n\nclass CanvasDummyBuilder {\n  init(src) {\n    const canvas_data = [\n      {\n        id: \"right_sock_source\",\n        width: 294,\n        height: 971,\n        image: {\n          x: -4,\n          y: -2,\n          width: 590,\n          height: 975,\n        },\n      },\n      {\n        id: \"right_sock_target\",\n        width: 1000,\n        height: 1000,\n        image: { src: \"right_sock_source\" },\n        data: right_sock,\n      },\n      {\n        id: \"left_sock_source\",\n        width: 297,\n        height: 974,\n        image: {\n          x: -293,\n          y: -1,\n          width: 590,\n          height: 975,\n        },\n      },\n      {\n        id: \"left_sock_target_01\",\n        width: 287,\n        height: 940,\n        image: {\n          x: -10,\n          y: -34,\n          width: 297,\n          height: 974,\n          src: \"left_sock_source\",\n        },\n        data: left_sock_01,\n      },\n      {\n        id: \"left_sock_target_02\",\n        width: 1000,\n        height: 1000,\n        image: { src: \"left_sock_target_01\" },\n        data: left_sock_02,\n      },\n    ]\n\n    let prev\n    this.meshables = []\n\n    this.scaled_canvas = this.scaleDownTexture(src)\n    this.dummies = canvas_data.map((obj, i) => {\n      const dummy = new CanvasDummy()\n      obj.image = obj.image || {}\n\n      const addMesh = obj.image.src || false\n      obj.image.src = addMesh ? prev : this.scaled_canvas\n\n      if (addMesh) obj.mesh = addMesh\n\n      dummy.init(obj)\n\n      if (obj.image.src === prev) {\n        this.meshables.push(dummy)\n      }\n\n      prev = dummy.meshCanvas ? dummy.meshCanvas.output : dummy.canvas\n\n      return dummy\n    })\n    this.scaled_canvas = null\n    // throw new Error(\"STOP\")\n  }\n\n  scaleDownTexture(img) {\n    const canvas = this.scaled_canvas || document.createElement(\"canvas\")\n    const ctx = canvas.getContext(\"2d\")\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n    canvas.width = 720\n    canvas.height = 1188\n\n    ctx.beginPath()\n    ctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n    if (img.width > 720) {\n      const scale = 72 / 300\n      const scaled_width = img.width * scale\n      const scaled_height = img.height * scale\n      ctx.drawImage(img, (720 - scaled_width) / 2, 18, scaled_width, scaled_height)\n      // ctx.drawImage(src, 400, 18, scaled_width, scaled_height)\n    } else {\n      ctx.drawImage(img, 0, 0)\n    }\n\n    return canvas\n  }\n\n  refresh(img) {\n    const non_meshy = this.dummies.filter(dummy => {\n      return !dummy.meshCanvas\n    })\n\n    non_meshy.forEach((dummy, i) => {\n      dummy.values[0] = this.scaleDownTexture(img)\n      dummy.refresh(true)\n    })\n\n    this.meshables.forEach((dummy, i) => {\n      dummy.refresh(true)\n    })\n    this.scaled_canvas = null\n  }\n}\n\nexport default new CanvasDummyBuilder()\n","/**\n * @npmpackage\n * @class ColorUtils\n * @desc\n * This class contains methods for manipulating color.<br>\n * Import from <a href=\"https://github.com/ff0000-ad-tech/ad-utils\">ad-utils</a>\n * <codeblock>\n * import { ColorUtils } from 'ad-utils'\n * </codeblock>\n */\n\n/**\n * @memberOf ColorUtils\n * @method toRgba\n * @param {string|object} color\n * \tthe color to convert, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @param {number} alpha\n * \tthe optional alpha value for the return string: overrides the alpha value of an RGBA color.\n * \tIf undefined, will default to the alpha value of the color.\n * @desc\n * \tReturns an object containing r, g, b, a properties\n */\nexport function toRgba(color, alpha) {\n  switch (typeof color) {\n    case \"object\":\n      color = color || {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 1,\n      }\n      break\n    default:\n      // convert from rgb() or rgba() string\n      if (color.indexOf(\"rgb\") >= 0) {\n        color = color.substring(color.indexOf(\"(\") + 1, color.lastIndexOf(\")\")).split(/,\\s*/)\n        color = {\n          r: parseInt(color[0]),\n          g: parseInt(color[1]),\n          b: parseInt(color[2]),\n          a: Number(color[3]),\n        }\n      } else if (color.indexOf(\"#\") >= 0) {\n        // convert from HEX\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(color)\n        color = result\n          ? {\n              r: parseInt(result[1], 16),\n              g: parseInt(result[2], 16),\n              b: parseInt(result[3], 16),\n              a: result[4] ? Number(result[4], 16) : 1,\n            }\n          : null\n      } else {\n        // given a color name like 'red' or 'green'\n        console.log(\"\")\n        console.log(\n          \"ERROR: ColorUtils.toRgba does not accept color names such as '\" +\n            color +\n            \"'. Use HEX or an RGB/A string or object per documentation\"\n        )\n        console.log(\"Returning the color '\" + color + \"' without any alpha\")\n        console.log(\"\")\n        return color\n      }\n      break\n  }\n  if (!color.a) color.a = 1\n  if (alpha >= 0) color.a = alpha\n\n  return color\n}\n\n/**\n * @memberOf ColorUtils\n * @method toRgbaString\n * @param {string|object} color\n * \tthe color to convert, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @param {number} alpha\n * \tthe optional alpha value for the return string: overrides the alpha value of an RGBA color. If undefined, will default to the alpha value of the color.\n * @desc\n * \tReturns the rgba() string representing a given color and optional alpha\n */\nexport function toRgbaString(color, alpha) {\n  color = toRgba(color, alpha)\n  return \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + color.a + \")\"\n}\n\n/**\n * @memberOf ColorUtils\n * @method hue\n * @param {object} obj\n * \tan object with paramaters for overall hue shift, see Properties for more info\n * @property {string|object} from\n * \tthe source color to hue shift, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {number} amount\n * \tamount to shift the colors in a range of 0-360\n * @property {string} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string or\n * \tan {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @desc\n * \tApply a hue shift to a given color; returns either an 'rgba()' string or an rgba{} object\n * @example\n * // convert to full grayscale\n * ColorUtils.hue({\n * \tfrom: '#99aa33',\n * \tamount: 66,\n * \tformat: 'object'\n * })\n * // returns {r: 51, g: 170, b: 79, a: 1}\n */\nexport function hue(obj) {\n  obj = _convert(obj)\n  let hsl = rgbToHSL(obj.from)\n  hsl.h = (hsl.h + obj.amount) % 360\n  if (hsl.h < 0) hsl.h += 360\n  let returnColors = _hslToRGB(hsl)\n\n  if (obj.from.a >= 0) returnColors.a = obj.from.a\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n/**\n * @memberOf ColorUtils\n * @method saturation\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info\n * @property {string|object} from\n * \tthe source color to saturate, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {number} amount\n * \tthe total saturation of the from. 0 = grayscale, 1 = full, original color\n * @property {string} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string or\n * \tan {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @desc\n * \tChange the color saturation of a given color; returns either an 'rgba()' string or an rgba{} object\n * @example\n * // convert to full grayscale\n * ColorUtils.saturation({\n * \tfrom: '#99aa33',\n * \tamount: 0,\n * \tformat: 'object'\n * });\n * // returns {r: 86, g: 86, b: 86, a: 1}\n */\nexport function saturation(obj) {\n  delete obj.to\n  obj = _convert(obj)\n\n  let returnColors = {}\n  for (let val in obj.from) {\n    let _fromVal = parseInt(obj.from[val])\n    if (val === \"a\") {\n      returnColors[val] = _fromVal\n    } else {\n      // this prevents the entire color from turning a middling gray - rgb(128, 128, 128)\n      // doing this check on only the red values is sufficient - we skip this calculation for the other two colors\n      if (val === \"r\") {\n        var _high = 0\n        var _low = 255\n        for (var sub in obj.from) {\n          if (parseInt(obj.from[sub]) > _high) _high = parseInt(obj.from[sub])\n          if (parseInt(obj.from[sub]) < _low) _low = parseInt(obj.from[sub])\n        }\n      }\n      returnColors[val] = Math.round(_fromVal * obj.amount + (1 - obj.amount) * ((_high + _low) / 2))\n    }\n  }\n\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n/**\n * @memberOf ColorUtils\n * @method contrast\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info\n * @property {string|object} from\n * \tthe source color to begin with, represented as a HEX string:\"#ff0000\", an RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.,\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {number} amount\n * \tthe contrast of the target. 0 = no contrast, 1 = original contrast, >1 = more and more, to infinity and beyond!\n * @property {string|object} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string or\n * \tan {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @desc\n * \tChange the contrast of the target; returns either an 'rgba()' string or an rgba{} object\n * @example\n * // get your whites whiter and brights brighter\n * ColorUtils.contrast({\n * \tfrom: '#aa0011'\n * \tamount: 1.3,\n * \tformat: 'object'\n * });\n * // returns {r: 221, g: 0, b: 22, a: 1}\n */\nexport function contrast(obj) {\n  delete obj.to\n  obj = _convert(obj)\n\n  let returnColors = {}\n  for (let val in obj.from) {\n    let _fromVal = parseInt(obj.from[val])\n    returnColors[val] = val === \"a\" ? _fromVal : Math.round(_fromVal * obj.amount)\n  }\n\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n/**\n * @memberOf ColorUtils\n * @method tint\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info\n * @property {string|object} from\n * \tthe source color to begin with, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {string|object} to\n * \tthe target color to tint to, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {number} amount\n * \tthe percentage of color to apply to the target. Defaults to 1, which is 100% color tinting\n * @property {string|object} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string,\n * \tor an {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @desc\n * \tTint a color uniformly to a given color; returns either an 'rgba()' string or an rgba{} object\n * @example\n * // tint to green\n * ColorUtils.tint({\n * \tfrom: '#ffff00',\n * \tto: '#00ff00',\n * \tamount: 1,\n * \tformat: 'object'\n * });\n * // returns {r: 0, g: 255, b: 0, a: 1 };\n *\n * // tint 50% to green\n * ColorUtils.tint({\n * \tfrom: '#ffff00',\n * \tto: '#00ff00',\n * \tamount: 0.5\n * });\n * // returns 'rgba(128, 128, 0, 1)'\n */\nexport function tint(obj) {\n  obj = _convert(obj)\n\n  let returnColors = {}\n  for (let val in obj.from) {\n    let _fromVal = parseInt(obj.from[val])\n    returnColors[val] = val === \"a\" ? _fromVal : Math.round(_fromVal + (parseInt(obj.to[val]) - _fromVal) * obj.amount)\n  }\n\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n/**\n * @memberOf ColorUtils\n * @method transform\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info\n * @property {string|object} from\n * \tthe source color to begin with, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {string|object} to\n * \tthe target color to transform to, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {number} amount\n * \tthe percentage of color to apply to the target. Defaults to 1, which is 100% color transform\n * @property {string} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string or\n * \tan {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @returns {string|object}\n * \teither an 'rgba()' string or an rgba{} object\n * @desc\n * \tColor Transforms a color to another color by pulling colors out of original source;\n * @example\n * // remove all colors but greens\n * ColorUtils.transform({\n * \tfrom: '#ffff00',\n * \tto: '#00ff00',\n * \tamount: 1,\n * \tformat: 'object'\n * });\n * // returns {r: 0, g: 255, b: 0, a: 1 };\n *\n * // remove all colors but greens\n * ColorUtils.transform({\n * \tfrom: '#ffff00',\n * \tto: '#00ff00',\n * \tamount: 1\n * });\n * // returns 'rgba(0, 255, 0, 1)'\n */\nexport function transform(obj) {\n  obj = _convert(obj)\n\n  let returnColors = {}\n  for (let val in obj.from) {\n    let _fromVal = parseInt(obj.from[val])\n    returnColors[val] = val === \"a\" ? _fromVal : Math.round(_fromVal - (255 - parseInt(obj.to[val])) * obj.amount)\n  }\n\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n/**\n * @memberOf ColorUtils\n * @method invert\n * @param {object} obj\n * \tan object with parameters for overall inversion, see Properties for more info\n * @property {string|object} from\n * \tthe color to invert, represented as a HEX string:\"#ff0000\",\n * \tan RGB/A string: \"rgb(255, 0, 0)\" / \"rgba(255, 0, 0, 1)\" ),\n * \tor an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}.\n * @property {string|object} color\n * \tsynonymous with the from parameter\n * @property {string} format\n * \teither 'object' or 'string' - which determines whether to return an 'rgba()' string or\n * \tan {r:, g:, b:, a:} object. If undefined, defaults to 'string'.\n * @desc\n * \tInvert the color; returns either an 'rgba()' string or an rgba{} object\n * @example\n * // invert and return result as object\n * ColorUtils.invert({\n * \tcolor: '#ff0000',\n * \tformat: 'object'\n * });\n * // returns {r: 0, g: 255, b: 255, a: 1 };\n *\n * // invert and return result as string\n * ColorUtils.invert({\n * \tcolor: '#ff0000'\n * });\n * // returns 'rgba(0, 255, 255, 1)'\n */\nexport function invert(obj) {\n  delete obj.to\n  delete obj.amount\n  obj = _convert(obj)\n\n  let returnColors = {}\n  for (let val in obj.from) {\n    let _fromVal = parseInt(obj.from[val])\n    returnColors[val] = val === \"a\" ? _fromVal : 255 - _fromVal\n  }\n\n  return obj.format === \"object\" ? returnColors : toRgbaString(returnColors)\n}\n\n// ------------------------------------------------------------------\n// PRIVATE FUNCTIONS\nfunction _convert(obj) {\n  // if the provided color information is not already in the {r:, g:, b:, a:} object format, we must convert it to that\n  obj.from = obj.from || obj.color\n  if (obj.from && typeof obj.from !== \"object\") obj.from = toRgba(obj.from)\n  if (obj.to && typeof obj.to !== \"object\") obj.to = toRgba(obj.to)\n  //\n  obj.amount = obj.amount === undefined ? 1 : obj.amount\n\n  return obj\n}\n\nfunction rgbToHSL(rgb) {\n  let r = rgb.r / 255\n  let g = rgb.g / 255\n  let b = rgb.b / 255\n  let cMax = Math.max(r, g, b)\n  let cMin = Math.min(r, g, b)\n  let delta = cMax - cMin\n  let l = (cMax + cMin) / 2\n  let h = 0\n  let s = 0\n\n  if (delta === 0) {\n    h = 0\n  } else if (cMax === r) {\n    h = 60 * (((g - b) / delta) % 6)\n  } else if (cMax === g) {\n    h = 60 * ((b - r) / delta + 2)\n  } else {\n    h = 60 * ((r - g) / delta + 4)\n  }\n\n  s = delta ? delta / (1 - Math.abs(2 * l - 1)) : 0\n\n  return {\n    h: h,\n    s: s,\n    l: l,\n  }\n}\n\nfunction _hslToRGB(hsl) {\n  let h = hsl.h / 60\n  let s = hsl.s\n  let l = hsl.l\n  let c = (1 - Math.abs(2 * l - 1)) * s\n  let x = c * (1 - Math.abs((h % 2) - 1))\n  let m = l - c / 2\n  let r\n  let g\n  let b\n\n  h = Math.floor(h)\n\n  switch (h) {\n    case 0:\n      r = c\n      g = x\n      b = 0\n      break\n    case 1:\n      r = x\n      g = c\n      b = 0\n      break\n    case 2:\n      r = 0\n      g = c\n      b = x\n      break\n    case 3:\n      r = 0\n      g = x\n      b = c\n      break\n    case 4:\n      r = x\n      g = 0\n      b = c\n      break\n    case 5:\n      r = c\n      g = 0\n      b = x\n      break\n    default:\n      break\n  }\n\n  return {\n    r: _normalizeRgbValue(r, m),\n    g: _normalizeRgbValue(g, m),\n    b: _normalizeRgbValue(b, m),\n  }\n}\n\nfunction _normalizeRgbValue(color, m) {\n  color = Math.floor((color + m) * 255)\n  if (color < 0) color = 0\n  return color\n}\n","/**\n * @npmpackage\n * @class CanvasColoring\n * @desc\n * Apply letious color effects to a canvas given a Canvas element or CanvasDrawer instance.<br><br>\n * Import from <a href=\"https://github.com/ff0000-ad-tech/ad-canvas\">ad-canvas</a>\n * <br>\n * <codeblock>\n * import { CanvasColoring } from 'ad-canvas'\n * </codeblock>\n * All examples in this class demonstrate effects applied to this image:<br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/default.jpg\" /><br>\n */\n\nimport * as ColorUtils from \"./ColorUtils\"\nimport * as CanvasUtils from \"./CanvasUtils\"\n\n// PUBLIC FUNCTIONS\n/**\n * @memberof CanvasColoring\n * @method hue\n * @param {object} obj\n * \tan object with paramaters for overall hue shift, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {number} amount\n * \tamount to shift the colors in a range of 0-360\n * @desc\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * // convert to full grayscale\n * CanvasColoring.hue({\n * \ttarget: _myCanvasDrawer,\n * \tamount: 180,\n * })\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/hue.jpg\" />\n */\nexport function hue(obj) {\n  obj.type = \"hue\"\n  obj.clear = true\n  _engine(obj)\n}\n\n/**\n * @memberof CanvasColoring\n * @method saturation\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {number} amount\n * \ta NUMBER representing the total saturation of the target. 0 = grayscale, 1 = full, original color\n * @property {boolean} clear\n * \ta BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects\n * @desc\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * // convert to full grayscale\n * CanvasColoring.saturation({\n * \ttarget: _myCanvasDrawer,\n * \tamount: 0,\n * })\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/sat.jpg\" />\n */\nexport function saturation(obj) {\n  obj.type = \"saturation\"\n  _engine(obj)\n}\n\n/**\n * @memberof CanvasColoring\n * @method contrast\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {number} amount\n * \ta NUMBER representing the contrast of the target. 0 = no contrast, 1 = original contrast, >1 = more and more, to infinity and beyond!\n * @property {boolean} clear\n * \ta BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects\n * @desc\n * Change the contrast of the target.\n * <br><br>\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * // get your whites whiter and brights brighter\n * CanvasColoring.contrast({\n * \ttarget: _myCanvasDrawer,\n * \tamount: 10,\n * })\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/contrast.jpg\" />\n */\nexport function contrast(obj) {\n  obj.type = \"contrast\"\n  _engine(obj)\n}\n\n/**\n * @memberof CanvasColoring\n * @method tint\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {number} amount\n * \ta NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color tinting\n * @property {string|object} color\n * \ta HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to tint to. Color-name strings such as 'red' and 'blue' will throw errors\n * @property {boolean} clear\n * \ta BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects\n * @desc\n * Tint the target uniformly to a given color.\n * <br><br>\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * // tint to GREEN\n * CanvasColoring.tint({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: 'rgb(0, 255, 0)',\n * \tamount: 1\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/tintGreen.jpg\" />\n * <br><br>\n * <codeblock>\n * // tint to MAGENTA\n * CanvasColoring.tint({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: {\n * \t\tr: 255,\n * \t\tg: 0,\n * \t\tb: 255\n * \t},\n * \tamount: 1\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/tintMagenta.jpg\" />\n * <br><br>\n * <codeblock>\n * // 50% tint to BLUE\n * CanvasColoring.tint({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: '#0000ff',\n * \tamount: 0.5\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/tintBlue.jpg\" />\n */\nexport function tint(obj) {\n  obj.type = \"tint\"\n  _engine(obj)\n}\n\n/**\n * @memberof CanvasColoring\n * @method transform\n * @param {object} obj\n * \tan object with paramaters for overall saturation, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {number} amount\n * \ta NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color transform\n * @property {string|object} color\n * \ta HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to transform to. Color-name strings such as 'red' and 'blue' will throw errors\n * @property {boolean} clear\n * \ta BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects.\n * @desc\n * Color Transforms the target to a given color by pulling colors out of image; preserves shading.\n * <br><br>\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * // pulls all colors EXCEPT for GREEN values out of the target\n * CanvasColoring.transform({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: 'rgb(0, 255, 0)',\n * \tamount: 1\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/transGreen.jpg\" />\n * <br><br>\n * <codeblock>\n * // pulls all colors EXCEPT for RED and BLUE values out of the target\n * CanvasColoring.transform({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: {\n * \t\tr: 255,\n * \t\tg: 0,\n * \t\tb: 255\n * \t},\n * \tamount: 1\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/transBlueRed.jpg\" />\n * <br><br>\n * <codeblock>\n * // pulls 50% of all colors EXCEPT for BLUE values out of the target\n * CanvasColoring.transform({\n * \ttarget: _myCanvasDrawer,\n * \tcolor: '#0000ff',\n * \tamount: 0.5\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/transBlue.jpg\" />\n * <br><br>\n */\nexport function transform(obj) {\n  obj.type = \"transform\"\n  _engine(obj)\n}\n\n/**\n * @memberof CanvasColoring\n * @method invert\n * @param {object} obj\n * \tan object with parameters for overall inversion, see Properties for more info:\n * @property {CanvasDrawer|UICanvas|canvas} target\n * \ta CanvasDrawer or CANVAS DOM to which the effect is applied\n * @property {boolean} clear\n * \ta BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects.\n * @desc\n * Invert the colors of the target.\n * <br><br>\n * <b>EXAMPLE::</b><br>\n * <codeblock>\n * CanvasColoring.invert({\n * \ttarget: _myCanvasDrawer\n * });\n * </codeblock>\n * <br>\n * <img src=\"https://github.com/ff0000-ad-tech/ad-docs/blob/master/assets/ad-canvas/invert.jpg\" />\n * <br><br>\n */\nexport function invert(obj) {\n  obj.type = \"invert\"\n  _engine(obj)\n}\n\n// PRIVATE FUNCTIONS\n// ------------------------------------------------------------------\nfunction _engine(obj) {\n  if (obj.color) {\n    obj.color = ColorUtils.toRgba(obj.color)\n    if (obj.color.r === undefined)\n      throw new Error(\n        \"The color passed to CanvasColorUtils does not meet the HEX or RGB/A definition requirement: given '\" +\n          obj.color +\n          \"'\"\n      )\n  }\n  //\n  let _target = obj.target\n  obj.amount = obj.amount === undefined ? 1 : obj.amount\n  if (obj.clear) {\n    if (_target.update) _target.update()\n    else throw new Error(\"Unable to clear a canvas DOM element, requires CanvasDrawer. Effects will stack, not reset.\")\n  }\n  //\n  _target = _target.canvas || _target\n  let _imageData = CanvasUtils.getImageData(_target)\n  let _pixels = _imageData.data\n  let _endColor\n  let _colID = [\"r\", \"g\", \"b\"]\n  //\n  let i, c\n  for (i = 0; i < _pixels.length; i += 4) {\n    _endColor = ColorUtils[obj.type]({\n      from: {\n        r: _pixels[i],\n        g: _pixels[i + 1],\n        b: _pixels[i + 2],\n      },\n      to: obj.color || null,\n      amount: obj.amount,\n      format: \"object\",\n    })\n\n    for (c = 0; c < 3; c++) _pixels[i + c] = _endColor[_colID[c]]\n  }\n\n  // overwrite original image\n  CanvasUtils.setImageData(_target, _imageData)\n}\n","export default __webpack_public_path__ + \"static/media/blank.d056c235.png\";","import React, { useEffect, useRef, useState } from \"react\"\nimport CanvasDummyBuilder from \"../../lib/CanvasDummyBuilder\"\n\nimport * as CanvasColoring from \"../../lib/red/CanvasColoring\"\nimport * as CanvasUtils from \"../../lib/red/CanvasUtils\"\n\nimport { Button, makeStyles } from \"@material-ui/core\"\n\nimport \"./style.scss\"\n\nimport blank from \"../../assets/images/blank.png\"\n\nconst Status = {\n  NONE: null,\n  LOADING: \"Loading...\",\n  TEXTURE: \"Loading & Applying Texture...\",\n  TINTING: \"Tinting...\",\n  SATURATION: \"Saturation...\",\n  CONTRAST: \"Adding Contrast...\",\n  SHARPEN: \"Sharpening Image...\",\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& > *\": {\n      padding: \"5px 150px\",\n      textTransform: \"capitalize\",\n      // margin: theme.spacing(1),\n    },\n    // \"&:hover\": {\n    //   backgroundColor: \"#000000\",\n    // },\n  },\n  input: {\n    display: \"none\",\n  },\n}))\n\nconst Downloader = React.forwardRef((props, ref) => {\n  const classes = useStyles()\n  const { layers, texture, title } = props\n  const filename = `${title} Product Photo - Separated Style.png`\n  const canvasRef = useRef()\n\n  const [status, setStatus] = useState(Status.TEXTURE)\n  const [textureCount, setTextureCount] = useState(0)\n\n  const update_status = async () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve()\n      }, 750)\n    })\n  }\n\n  useEffect(async () => {\n    if (texture && status !== undefined) {\n      let status_promise = update_status()\n      await status_promise\n\n      let next_status\n      const canvas = canvasRef.current\n      const ctx = canvas.getContext(\"2d\")\n      const { width, height } = canvas\n\n      switch (status) {\n        case Status.TEXTURE:\n          if (!textureCount) setTextureCount(textureCount + 1)\n\n          CanvasDummyBuilder.refresh(texture)\n\n          ctx.clearRect(0, 0, width, height)\n\n          for (let i = layers.length - 1; i > -1; i--) {\n            const img = layers[i]\n            switch (i) {\n              case 0:\n                // the final shape onto which everything is clipped\n                ctx.globalCompositeOperation = \"destination-atop\"\n                ctx.drawImage(img, 0, 0, width, height)\n                break\n              case 1:\n                // some texturing on the black areas over the toe and heels\n                ctx.globalCompositeOperation = \"screen\"\n                ctx.drawImage(img, 0, 0, width, height)\n                ctx.globalAlpha = 0.8\n                ctx.globalCompositeOperation = \"multiply\"\n                ctx.drawImage(img, 0, 0, width, height)\n                break\n              case 2:\n                // shading layer around calves\n                ctx.globalCompositeOperation = \"multiply\"\n                ctx.drawImage(img, 0, 0, width, height)\n                ctx.drawImage(img, 0, 0, width, height)\n                break\n              case 3:\n                // primary sock texture\n                // ctx.globalAlpha = 0.175\n                ctx.globalCompositeOperation = \"multiply\"\n                ctx.drawImage(img, 0, 0, width, height)\n                break\n              case 4:\n                for (let i = 1; i > -1; i--) {\n                  ctx.drawImage(CanvasDummyBuilder.meshables[2].meshCanvas.filler, i, i, width, height)\n                  ctx.drawImage(CanvasDummyBuilder.meshables[2].meshCanvas.output, i, i, width, height)\n                }\n\n                for (let i = 1; i > -1; i--) {\n                  ctx.drawImage(CanvasDummyBuilder.meshables[0].meshCanvas.filler, i, i, width, height)\n                  ctx.drawImage(CanvasDummyBuilder.meshables[0].meshCanvas.output, i, i, width, height)\n                }\n\n                ctx.globalCompositeOperation = \"destination-in\"\n                ctx.drawImage(img, 0, 0, width, height)\n                break\n              default:\n                break\n            }\n\n            ctx.globalAlpha = 1\n            ctx.globalCompositeOperation = \"source-over\"\n          }\n          next_status = Status.TINTING\n\n          break\n\n        case Status.TINTING:\n          next_status = Status.SATURATION\n\n          CanvasColoring.tint({\n            target: canvasRef.current,\n            color: \"rgb(255, 255, 255)\",\n            amount: 0.01,\n          })\n\n          CanvasColoring.contrast({\n            target: canvasRef.current,\n            amount: 1.08,\n          })\n          break\n        case Status.SATURATION:\n          next_status = Status.CONTRAST\n\n          CanvasColoring.saturation({\n            target: canvasRef.current,\n            amount: 1.02,\n          })\n          break\n        case Status.CONTRAST:\n          next_status = Status.SHARPEN\n\n          CanvasColoring.contrast({\n            target: canvasRef.current,\n            amount: 0.97,\n          })\n          CanvasColoring.contrast({\n            target: canvasRef.current,\n            amount: 1.015,\n          })\n          break\n        case Status.SHARPEN:\n          next_status = Status.NONE\n\n          CanvasUtils.sharpen(ctx, width, height, 0.025)\n\n          break\n        case Status.NONE:\n          break\n        default:\n          // Loading\n          break\n      }\n      if (next_status !== undefined) setStatus(next_status)\n    }\n  }, [status, texture])\n\n  useEffect(() => {\n    setStatus(Status.TEXTURE)\n  }, [texture])\n\n  // useEffect(() => {\n\n  // })\n\n  const downloadBitmap = () => {\n    const canvas = document.createElement(\"canvas\")\n    canvas.width = canvasRef.current.width\n    canvas.height = canvasRef.current.height\n    const ctx = canvas.getContext(\"2d\")\n\n    ctx.beginPath()\n    ctx.rect(0, 0, canvas.width, canvas.height)\n    ctx.fillStyle = \"#ffffff\"\n    ctx.fill()\n\n    ctx.drawImage(canvasRef.current, 0, 0)\n\n    const bitmapData = canvas.toDataURL(\"image/jpg\")\n\n    const image = new Image()\n\n    image.src = bitmapData\n\n    image.onload = () => {\n      fetch(image.src, {\n        method: \"GET\",\n        headers: {},\n      })\n        .then(response => {\n          response.arrayBuffer().then(function(buffer) {\n            const link = document.createElement(\"a\")\n            link.href = window.URL.createObjectURL(new Blob([buffer]))\n            link.download = filename\n\n            document.body.appendChild(link)\n            link.click()\n\n            setTimeout(function() {\n              window.URL.revokeObjectURL(link)\n              document.body.removeChild(link)\n            }, 200)\n          })\n        })\n        .catch(err => {})\n    }\n  }\n\n  return (\n    <div className=\"downloader\" ref={ref}>\n      <div className=\"image-preview\">\n        {texture && (\n          <>\n            <canvas\n              className={status ? \"blur\" : \"\"}\n              ref={canvasRef}\n              width={1000}\n              height={1000}\n              style={{\n                width: 588,\n                height: 588,\n              }}\n            />\n            {status && <div className=\"status\">{status}</div>}\n          </>\n        )}\n        {!textureCount && <img src={blank} alt=\"rock-em-socks\" width={588} height={588} />}\n      </div>\n      <div className=\"download-panel\">\n        <div className=\"title-container\">\n          <p>PRODUCT PREVIEW</p>\n          <p className=\"art-title\">{title}</p>\n        </div>\n        <Button\n          style={{\n            borderRadius: \"28px\",\n            backgroundColor: texture && status === Status.NONE ? \"#000000\" : \"\",\n            color: texture && status === Status.NONE ? \"#D8D8D8\" : \"\",\n          }}\n          className={classes.root}\n          disableElevation\n          variant=\"contained\"\n          color=\"default\"\n          disabled={!(texture && status === Status.NONE)}\n          onClick={downloadBitmap}\n        >\n          Download Hero Image\n        </Button>\n      </div>\n    </div>\n  )\n})\n\nexport default Downloader\n","import React, { useEffect, useRef, useState } from \"react\"\nimport { traverseTwoPhase } from \"react-dom/test-utils\"\nimport useEffectOnce from \"../../hooks/useEffectOnce\"\n\nimport \"./style.scss\"\n\nconst CenteredItem = React.forwardRef(({ children, className }, ref) => {\n  return (\n    <div ref={ref} className={`centered-item${className ? ` ${className}` : \"\"}`}>\n      {children}\n    </div>\n  )\n})\n\nexport default CenteredItem\n","export default __webpack_public_path__ + \"static/media/upload-icon.24e73ae8.svg\";","import React, { useEffect, useRef, useState, useCallback } from \"react\"\nimport CenteredItem from \"../CenteredItem\"\nimport { Button, ThemeProvider, makeStyles, createMuiTheme } from \"@material-ui/core\"\nimport ReactHtmlParser from \"react-html-parser\"\nimport { useDropzone } from \"react-dropzone\"\n\nimport \"./style.scss\"\n\nimport uploadIcon from \"../../assets/images/upload-icon.svg\"\n\nconst theme = createMuiTheme({\n  props: {\n    // Name of the component ⚛️\n    // MuiButtonBase: {\n    //   // The properties to apply\n    //   disableRipple: true, // No more ripple, on the whole application 💣!\n    // },\n  },\n  palette: {\n    primary: { main: \"#1f7cf2\" },\n    // primary: { main: \"#ff0000\" },\n    secondary: { main: \"#3d3d3d\" },\n  },\n})\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& > *\": {\n      padding: \"5px 10px\",\n      textTransform: \"capitalize\",\n      // margin: theme.spacing(1),\n    },\n    // \"&:hover\": {\n    //   backgroundColor: \"#000000\",\n    // },\n  },\n  input: {\n    display: \"none\",\n  },\n}))\n\nconst throttler = delay => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve()\n    }, delay || 50)\n  })\n}\n\nconst UploadPanel = React.forwardRef((props, ref) => {\n  const classes = useStyles()\n  const terminate = useRef(false)\n  const currentJobs = useRef(0)\n  const { generateCallback, label, buttonLabel, disabled } = props\n\n  const [imageError, setImageError] = useState()\n\n  // what was selected to upload\n  const [uploadSource, setUploadSource] = useState()\n  // the result of the upload, to use in the app\n  const [uploadedImage, setUploadedImage] = useState()\n\n  const [loadedPercent, setLoadedPercent] = useState(0)\n  const [loadingValue, setLoadingValue] = useState()\n\n  const handleButtonClick = e => {\n    // const { width: uploaded_width, height: uploaded_height } = uploadedImage\n    // if (uploaded_width !== 2550 && uploaded_height !== 4560) {\n    //   setImageError(\n    //     `Image must be ratio of <b>2550x4560</b>.<br>The image you selected is <b>${uploaded_width}x${uploaded_height}</b>`\n    //   )\n    //   return\n    // }\n\n    generateCallback(uploadedImage)\n  }\n\n  const downloadArt = () => {\n    const image = new Image()\n\n    image.src = window.URL.createObjectURL(uploadSource)\n\n    image.onload = () => {\n      fetch(image.src, {\n        method: \"GET\",\n        headers: {},\n      })\n        .then(response => {\n          response.arrayBuffer().then(function(buffer) {\n            const link = document.createElement(\"a\")\n            link.href = window.URL.createObjectURL(new Blob([buffer]))\n            link.download = uploadSource.name\n\n            document.body.appendChild(link)\n            link.click()\n\n            setTimeout(function() {\n              window.URL.revokeObjectURL(link)\n              document.body.removeChild(link)\n            }, 200)\n          })\n        })\n        .catch(err => {})\n    }\n  }\n\n  const onDrop = useCallback(acceptedFiles => {\n    // Do something with the files\n    acceptedFiles = acceptedFiles[0]\n\n    if (currentJobs.current) {\n      terminate.current = true\n      currentJobs.current = 0\n    }\n\n    currentJobs.current++\n    const image = new Image()\n    image.src = window.URL.createObjectURL(acceptedFiles)\n    fetch(image.src, {\n      method: \"GET\",\n      headers: {},\n    })\n      .then(async response => {\n        const reader = response.body.getReader()\n\n        // Step 2: get total length\n        const contentLength = +response.headers.get(\"Content-Length\")\n\n        // Step 3: read the data\n        let receivedLength = 0 // received that many bytes at the moment\n        while (true) {\n          const throttle = throttler()\n          const { done, value } = await reader.read()\n          receivedLength += value.length\n          if (terminate.current) {\n            window.URL.revokeObjectURL(acceptedFiles)\n            terminate.current = false\n            return\n          }\n\n          let percent = done ? 100 : Math.floor((receivedLength / contentLength) * 100)\n          setLoadedPercent(receivedLength / contentLength)\n          setLoadingValue(`${percent}% Loaded`)\n\n          await throttle\n          if (done || receivedLength === contentLength) {\n            await throttler(500)\n            break\n          }\n        }\n\n        // if this job wasn't terminated by a new upload process\n        // then update images accordingly\n        currentJobs.current = 0\n        setUploadedImage(image)\n        window.URL.revokeObjectURL(acceptedFiles)\n        setUploadSource(acceptedFiles)\n        setLoadedPercent(0)\n        setLoadingValue(null)\n      })\n      .catch(err => {})\n  }, [])\n\n  const inputProps = { accept: \".png,.gif,.jpg,.jpeg\", multiple: false }\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  const debug = () => {}\n\n  const canDownload = () => {\n    return !!uploadedImage && !loadedPercent && !loadingValue\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={`upload-group${disabled ? \" disabled\" : \"\"}`} ref={ref}>\n        <p>{label}</p>\n        <div className=\"upload-panel\">\n          <div className=\"upload-result flex-column\">\n            <div\n              className=\"img-holder\"\n              style={\n                uploadedImage && {\n                  backgroundImage: loadingValue ? \"unset\" : `url(${uploadedImage.src})`,\n                }\n              }\n            >\n              {loadingValue && <p className=\"loading-value\">{loadingValue}</p>}\n            </div>\n          </div>\n\n          <div className=\"upload-source flex-column\">\n            <div className=\"upload flex-column\">\n              {loadingValue && (\n                <>\n                  {debug()}\n                  <div\n                    className=\"progress-bar\"\n                    style={{\n                      transform: `scaleY(${loadedPercent})`,\n                    }}\n                  />\n                </>\n              )}\n\n              <div className=\"file-dropbox\" {...getRootProps()}>\n                <input {...getInputProps(inputProps)} />\n                <p>{ReactHtmlParser(\"Drag & drop here<br>or click to select files\")}</p>\n                <img alt=\"upload-icon\" src={uploadIcon} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <CenteredItem>\n          <Button\n            className={classes.root}\n            disableElevation\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!!!uploadedImage}\n            onClick={handleButtonClick}\n          >\n            Generate Preview\n          </Button>\n          <p\n            style={\n              !canDownload()\n                ? {\n                    pointerEvents: \"none\",\n                    opacity: 0.5,\n                  }\n                : {}\n            }\n            onClick={canDownload() ? downloadArt : null}\n          >\n            Download Front Art\n          </p>\n        </CenteredItem>\n      </div>\n    </ThemeProvider>\n  )\n})\n\nexport default UploadPanel\n","import React, { useState, useRef } from \"react\"\n\nimport Downloader from \"../Downloader\"\nimport UploadPanel from \"../UploadPanel\"\n\nimport \"./style.scss\"\n\nconst Uploader = React.forwardRef((props, ref) => {\n  const text_default = \"Enter Title Here\"\n  const [title, setTitle] = useState(text_default)\n  const [outputTitle, setOutputTitle] = useState(\"Enter Title Below\")\n  const [uploadedImage, setUploadedImage] = useState()\n\n  const downloadRef = useRef()\n  const frontRef = useRef()\n  const backRef = useRef()\n\n  const updateTitle = new_title => {\n    setTitle(new_title)\n  }\n\n  const handleTextFocus = e => {\n    switch (e.type) {\n      case \"focus\":\n        if (title === text_default) updateTitle(\"\")\n        break\n      case \"blur\":\n        if (!title.length) updateTitle(text_default)\n        break\n      default:\n        break\n    }\n  }\n\n  const handleNameChange = e => updateTitle(`${e.target.value}`)\n\n  const handleKeyDown = e => {\n    if (e.key.toLowerCase() === \"enter\" || e.keyCode === 13) e.target.blur()\n  }\n\n  const generateCallback = img => {\n    setUploadedImage(img)\n    setOutputTitle(title)\n  }\n\n  const debug = () => {\n    // console.log(`%c piss`, \"color: black; background-color: cyan; font-style: italic; padding: 2px;\")\n    // console.warn(uploadedImage)\n  }\n\n  return (\n    <div className=\"mocker\" ref={ref}>\n      {/* {debug()} */}\n      <Downloader ref={downloadRef} texture={uploadedImage} title={outputTitle} layers={props.layers} />\n      <div className=\"uploader\">\n        <div>\n          <div className=\"header\">{`${title}`}</div>\n          <div className=\"enter-title\">\n            <p>Enter Name</p>\n            <label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={title}\n                onChange={handleNameChange}\n                onKeyDown={handleKeyDown}\n                onFocus={handleTextFocus}\n                onBlur={handleTextFocus}\n              />\n            </label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <UploadPanel\n            ref={frontRef}\n            label=\"Front Art\"\n            buttonLabel={\"Upload Front\"}\n            {...{ uploadedImage, generateCallback }}\n          />\n          <UploadPanel\n            ref={backRef}\n            label=\"Back Art (disabled)\"\n            buttonLabel={\"Upload Back\"}\n            {...{ uploadedImage, generateCallback }}\n            disabled={true}\n          />\n        </div>\n      </div>\n    </div>\n  )\n})\n\nexport default Uploader\n","export default __webpack_public_path__ + \"static/media/rock-em-logo.da648fe0.svg\";","import React, { useEffect, useRef, useState } from \"react\"\n\nimport Uploader from \"./components/Uploader\"\nimport CanvasDummyBuilder from \"./lib/CanvasDummyBuilder\"\n\nimport rockEmLogo from \"./assets/images/rock-em-logo.svg\"\nimport \"./App.scss\"\n\nexport default function App() {\n  const assets = [require(\"./assets/textures/asset_blank.jpg\").default]\n  const assetData = useRef([])\n  const uploaderRef = useRef()\n\n  const layers = [\n    require(\"./assets/layers/layer_03_base.png\").default,\n    require(\"./assets/layers/layer_01.png\").default,\n    require(\"./assets/layers/layer_03_base_02.png\").default,\n    require(\"./assets/layers/layer_02_multiply.png\").default,\n    require(\"./assets/layers/layer_00_safe_zone.png\").default,\n    // require(\"./assets/layers/sock_mask_right.png\").default,\n  ]\n  const layerData = useRef([])\n\n  const [sourceBitmapData, setSourceBitmapData] = useState()\n\n  ////////////////////////////////////////////////////////////\n  useEffect(() => {\n    if (!sourceBitmapData) {\n      let completed = 0\n      function callback() {\n        if (++completed === assets.length + layers.length) {\n          const img = assetData.current[0]\n\n          // setTimeout(() => {\n          setSourceBitmapData(img)\n          // }, 1000)\n          CanvasDummyBuilder.init(img)\n        }\n      }\n\n      assets.forEach((url, i) => {\n        const img = new Image()\n        img.src = url\n\n        img.onload = () => {\n          assetData.current[i] = img\n          callback()\n        }\n      })\n      layers.forEach((url, i) => {\n        const img = new Image()\n        img.src = url\n\n        img.onload = () => {\n          layerData.current[i] = img\n          callback()\n        }\n      })\n    }\n  }, [sourceBitmapData])\n\n  if (!sourceBitmapData) return <div className=\"loading\">LOADING!</div>\n\n  return (\n    <>\n      {/* <div className=\"section-header\">\n        <img src={rockEmLogo} alt=\"rock-em-logo\" />\n        <p>3D Mocker</p>\n      </div> */}\n      <Uploader ref={uploaderRef} layers={layerData.current} />\n    </>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry)\n\t\t\tgetFID(onPerfEntry)\n\t\t\tgetFCP(onPerfEntry)\n\t\t\tgetLCP(onPerfEntry)\n\t\t\tgetTTFB(onPerfEntry)\n\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<App />\n// \t</React.StrictMode>,\n// \tdocument.getElementById('root')\n// )\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}